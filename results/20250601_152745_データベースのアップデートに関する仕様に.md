# 検索結果: データベースのアップデートに関する仕様について教えて

## 回答

1. 質問に対する直接的な回答:
データベースのアップデートに関する仕様は、ベクトルデータベースとRAGデータベースを同期し、Markdownファイルからデータを取り込む機能を提供します。具体的には、ベクトルデータベースの更新、RAGデータベースの更新、両データベースの同期、Markdownファイルからのデータ取り込み、既存データの更新、重複データの防止などを行います。

2. 回答の詳細な説明:
データベースのアップデートは、主に以下の処理を行います。

*   **ベクトルデータベースの更新:** ベクトルデータベースの初期化、テーブル作成、既に処理済みのファイルの取得、新しいMarkdownファイルの検出と処理、テキストのチャンク分割と埋め込みベクトルの生成、ベクトルデータベースへのデータ保存などを行います (チャンク 6, 9)。
*   **RAGデータベースの更新:** RAGデータベースの初期化、テーブルのリセット、ベクトルデータベースからのデータ取得、RAGデータベースへのデータ挿入、検索インデックスの作成、データベース統計情報の表示などを行います (チャンク 6, 10)。
*   **Markdownファイルからのデータ取り込み:** 新しいMarkdownファイルを処理し、テキストを意味のある単位で分割し、埋め込みベクトルを生成してデータベースに保存します (チャンク 6, 9)。
*   **既存データの更新:** 既存のMarkdownファイルを更新し、削除されたファイルのデータを削除します (チャンク 9)。
*   **重複データの防止:** 重複データの処理に関する具体的な仕様は記載されていません。
*   **データベース接続:** データベース接続設定は辞書型で管理され、環境変数から取得することも可能です (チャンク 7)。
*   **テーブルのリセット:** RAGデータベースのテーブルをリセットする機能があります (チャンク 6, 10)。
*   **pgvector拡張機能:** RAGデータベースの作成にはpgvector拡張機能を使用します (チャンク 10)。

参照したソース:
*   チャンク 6 (ファイル: database_updater.md): ベクトルデータベースとRAGデータベースの同期に関する概要。
*   チャンク 7 (ファイル: base_database.md): データベース接続設定の管理方法。
*   チャンク 9 (ファイル: vector_database.md): Markdownファイルの処理と埋め込みベクトルの生成。
*   チャンク 10 (ファイル: rag_database.md): RAGデータベースの初期化とテーブル作成に関する情報。

## 参照ソース

1. **database_updater.md** - `G:\NakedRAG\data\markdowns\markdown\database_updater.md`
2. **rag_database.md** - `G:\NakedRAG\data\markdowns\rag_database.md`
3. **rag_initializer.md** - `G:\NakedRAG\data\markdowns\markdown\rag_initializer.md`
4. **base_database.md** - `G:\NakedRAG\data\markdowns\base_database.md`
5. **vector_database.md** - `G:\NakedRAG\data\markdowns\vector_database.md`

## 検索パラメータ

- 検索件数: 10
- 類似度閾値: 0.7
- LLMモデル: gemma3:12b
- 埋め込みモデル: intfloat/multilingual-e5-large
